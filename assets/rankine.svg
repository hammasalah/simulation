<!-- 
  Rankine/Hirn Cycle SVG Diagram
  Interactive thermal power plant schematic
  Author: Chemical Engineering Lab Simulation Platform
  
  This SVG provides a visual representation of a Rankine cycle
  power plant with boiler, turbine, condenser, and pump.
-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 350" class="rankine-diagram">
  <defs>
    <!-- Gradients -->
    <linearGradient id="hotGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b"/>
      <stop offset="100%" style="stop-color:#ee5a24"/>
    </linearGradient>
    
    <linearGradient id="coldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#74b9ff"/>
      <stop offset="100%" style="stop-color:#0984e3"/>
    </linearGradient>
    
    <linearGradient id="steamGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#fd79a8"/>
      <stop offset="100%" style="stop-color:#e84393"/>
    </linearGradient>
    
    <marker id="flowArrowRankine" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="var(--primary, #008080)"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="500" height="350" fill="var(--bg-secondary, #f5f5f5)" rx="10"/>
  
  <!-- Title -->
  <text x="250" y="25" text-anchor="middle" class="diagram-title" fill="var(--text-primary, #333)" font-size="14" font-weight="bold">
    Cycle de Rankine / Hirn - Centrale Thermique
  </text>
  
  <!-- Boiler (Chaudière) -->
  <g class="boiler" data-component="boiler" data-tooltip="Chaudière - Génération de vapeur">
    <rect x="50" y="60" width="100" height="120" fill="url(#hotGradient)" stroke="#c0392b" stroke-width="3" rx="10"/>
    <text x="100" y="125" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Chaudière</text>
    <text x="100" y="140" text-anchor="middle" font-size="9" fill="white">Q̇ₕ</text>
    
    <!-- Heat input arrow -->
    <path d="M100,190 L100,170" stroke="#f39c12" stroke-width="4" marker-end="url(#flowArrowRankine)"/>
    <text x="100" y="205" text-anchor="middle" font-size="9" fill="#e67e22">Chaleur entrée</text>
    
    <!-- Flames -->
    <g class="flames">
      <ellipse cx="80" cy="175" rx="8" ry="12" fill="#f39c12" opacity="0.8"/>
      <ellipse cx="100" cy="175" rx="8" ry="14" fill="#e74c3c" opacity="0.8"/>
      <ellipse cx="120" cy="175" rx="8" ry="12" fill="#f39c12" opacity="0.8"/>
    </g>
  </g>
  
  <!-- Turbine -->
  <g class="turbine" data-component="turbine" data-tooltip="Turbine - Production de travail">
    <polygon points="300,70 350,50 350,130 300,110" fill="url(#steamGradient)" stroke="#8e44ad" stroke-width="3"/>
    <text x="325" y="95" text-anchor="middle" font-size="11" fill="white" font-weight="bold">Turbine</text>
    
    <!-- Work output arrow -->
    <line x1="360" y1="90" x2="400" y2="90" stroke="#27ae60" stroke-width="4" marker-end="url(#flowArrowRankine)"/>
    <text x="430" y="85" text-anchor="middle" font-size="9" fill="#27ae60">Ẇ turbine</text>
    <text x="430" y="98" text-anchor="middle" font-size="9" fill="#27ae60" class="turbine-power">(Puissance)</text>
    
    <!-- Generator symbol -->
    <circle cx="420" cy="90" r="15" fill="none" stroke="#27ae60" stroke-width="2"/>
    <text x="420" y="94" text-anchor="middle" font-size="10" fill="#27ae60">G</text>
  </g>
  
  <!-- Condenser (Condenseur) -->
  <g class="condenser" data-component="condenser" data-tooltip="Condenseur - Rejet de chaleur">
    <rect x="280" y="200" width="100" height="80" fill="url(#coldGradient)" stroke="#2980b9" stroke-width="3" rx="10"/>
    <text x="330" y="240" text-anchor="middle" font-size="11" fill="white" font-weight="bold">Condenseur</text>
    <text x="330" y="255" text-anchor="middle" font-size="9" fill="white">Q̇c</text>
    
    <!-- Cooling water -->
    <path d="M330,290 L330,310" stroke="#3498db" stroke-width="3" marker-end="url(#flowArrowRankine)"/>
    <text x="330" y="325" text-anchor="middle" font-size="9" fill="#3498db">Refroidissement</text>
  </g>
  
  <!-- Pump (Pompe) -->
  <g class="pump" data-component="pump" data-tooltip="Pompe - Compression du liquide">
    <circle cx="100" cy="250" r="30" fill="var(--primary, #008080)" stroke="#006666" stroke-width="3"/>
    <text x="100" y="255" text-anchor="middle" font-size="10" fill="white" font-weight="bold">Pompe</text>
    
    <!-- Work input arrow -->
    <line x1="50" y1="250" x2="70" y2="250" stroke="#e67e22" stroke-width="3" marker-end="url(#flowArrowRankine)"/>
    <text x="35" y="245" text-anchor="middle" font-size="8" fill="#e67e22">Ẇp</text>
  </g>
  
  <!-- Steam/Water flow pipes -->
  <g class="flow-pipes" stroke-width="6">
    <!-- Boiler to Turbine (superheated steam) -->
    <path d="M150,80 L300,80" fill="none" stroke="url(#steamGradient)" stroke-linecap="round"/>
    <text x="225" y="70" text-anchor="middle" font-size="8" fill="#e84393">Vapeur surchauffée</text>
    
    <!-- Turbine to Condenser (wet steam) -->
    <path d="M325,130 L325,200" fill="none" stroke="#9b59b6" stroke-linecap="round"/>
    <text x="350" y="165" font-size="8" fill="#9b59b6">Vapeur humide</text>
    
    <!-- Condenser to Pump (liquid water) -->
    <path d="M280,250 L130,250" fill="none" stroke="url(#coldGradient)" stroke-linecap="round"/>
    <text x="205" y="265" text-anchor="middle" font-size="8" fill="#3498db">Eau liquide</text>
    
    <!-- Pump to Boiler (compressed liquid) -->
    <path d="M100,220 L100,180" fill="none" stroke="#1abc9c" stroke-linecap="round"/>
    <text x="75" y="200" font-size="8" fill="#1abc9c" transform="rotate(-90, 75, 200)">Eau comprimée</text>
  </g>
  
  <!-- State points -->
  <g class="state-points">
    <circle cx="150" cy="80" r="8" fill="#e74c3c" stroke="white" stroke-width="2"/>
    <text x="150" y="84" text-anchor="middle" font-size="9" fill="white" font-weight="bold">1</text>
    
    <circle cx="325" cy="130" r="8" fill="#9b59b6" stroke="white" stroke-width="2"/>
    <text x="325" y="134" text-anchor="middle" font-size="9" fill="white" font-weight="bold">2</text>
    
    <circle cx="280" cy="250" r="8" fill="#3498db" stroke="white" stroke-width="2"/>
    <text x="280" y="254" text-anchor="middle" font-size="9" fill="white" font-weight="bold">3</text>
    
    <circle cx="100" cy="220" r="8" fill="#1abc9c" stroke="white" stroke-width="2"/>
    <text x="100" y="224" text-anchor="middle" font-size="9" fill="white" font-weight="bold">4</text>
  </g>
  
  <!-- Efficiency display -->
  <g class="efficiency-display" transform="translate(430, 200)">
    <rect x="-45" y="-15" width="90" height="60" fill="white" stroke="var(--primary, #008080)" stroke-width="2" rx="8"/>
    <text x="0" y="0" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Rendement</text>
    <text x="0" y="18" text-anchor="middle" font-size="14" fill="var(--primary, #008080)" font-weight="bold">
      η = <tspan class="efficiency-value">38</tspan>%
    </text>
    <text x="0" y="35" text-anchor="middle" font-size="8" fill="#666">
      Ẇnet = <tspan class="net-power">--</tspan> MW
    </text>
  </g>
</svg>
